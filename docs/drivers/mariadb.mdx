
---
title: MariaDB Driver
description: Configura√ß√£o e uso do driver MariaDB
---

# MariaDB Driver

Driver para conex√£o com bancos de dados MariaDB, fork do MySQL com melhorias de performance e recursos extras.

## Instala√ß√£o

```bash
npm install mariadb
```

## Configura√ß√£o

```javascript
const { HelperDB } = require('helperdb');

const db = new HelperDB({
  driver: 'mariadb',
  mariadb: {
    host: 'localhost',
    port: 3306,
    user: 'username',
    password: 'password',
    database: 'helperdb',
    connectionLimit: 10,
    acquireTimeout: 1000,
    timeout: 5000
  }
});

await db.init();
```

## Op√ß√µes de Configura√ß√£o

### Configura√ß√£o B√°sica
```javascript
{
  host: 'localhost',
  port: 3306,
  user: 'username',
  password: 'password',
  database: 'helperdb'
}
```

### Pool de Conex√µes
```javascript
{
  host: 'localhost',
  port: 3306,
  user: 'username',
  password: 'password',
  database: 'helperdb',
  connectionLimit: 15,        // Pool de conex√µes
  acquireTimeout: 1000,       // Timeout para obter conex√£o
  timeout: 5000,              // Timeout de query
  minimumIdle: 2,             // Conex√µes m√≠nimas ociosas
  idleTimeout: 600000         // Timeout para conex√µes ociosas
}
```

### Configura√ß√£o Avan√ßada
```javascript
{
  host: 'localhost',
  port: 3306,
  user: 'username',
  password: 'password',
  database: 'helperdb',
  charset: 'utf8mb4',
  timezone: 'local',
  dateStrings: false,
  supportBigNumbers: true,
  bigNumberStrings: false,
  metaAsArray: true,
  arrayParenthesis: true
}
```

## Caracter√≠sticas Especiais

### ‚úÖ Vantagens do MariaDB
- Performance superior ao MySQL
- Compatibilidade total com MySQL
- Storage engines adicionais (Aria, TokuDB)
- JSON nativo melhorado
- Replica√ß√£o paralela
- Thread pooling

### üöÄ Recursos √önicos
- Virtual columns
- Window functions
- Common table expressions (CTEs)
- Temporal tables
- Galera clustering

## Exemplos de Uso

### Configura√ß√£o de Alta Performance
```javascript
const db = new HelperDB({
  driver: 'mariadb',
  mariadb: {
    host: 'localhost',
    port: 3306,
    user: 'username',
    password: 'password',
    database: 'helperdb',
    connectionLimit: 25,
    acquireTimeout: 1000,
    timeout: 5000,
    charset: 'utf8mb4',
    
    // Otimiza√ß√µes MariaDB espec√≠ficas
    threadStack: 262144,
    maxConnections: 100,
    queryCache: true
  }
});
```

### Cluster Galera
```javascript
const db = new HelperDB({
  driver: 'mariadb',
  mariadb: {
    // M√∫ltiplos n√≥s do cluster
    host: ['node1.cluster.com', 'node2.cluster.com', 'node3.cluster.com'],
    port: 3306,
    user: 'username',
    password: 'password',
    database: 'helperdb',
    connectionLimit: 20,
    
    // Configura√ß√µes espec√≠ficas do Galera
    wsrepSyncWait: 1,
    autocommit: true
  }
});
```

## Diferen√ßas do MySQL

### Recursos Extras
```javascript
// JSON melhorado
await db.set('user:1', {
  profile: { name: 'Jo√£o', preferences: { theme: 'dark' } }
});

// Busca JSON nativa
const users = await db.search('profile->name', 'Jo√£o');

// Virtual columns (calculadas automaticamente)
// Configuradas no schema do banco
```

## Monitoramento

```javascript
// Verificar performance espec√≠fica do MariaDB
const health = await db.ping();
console.log(`MariaDB conectado - Lat√™ncia: ${health.latency}ms`);

// Informa√ß√µes do cluster (se aplic√°vel)
if (health.cluster) {
  console.log('N√≥s do cluster:', health.cluster.nodes);
  console.log('Status:', health.cluster.status);
}
```

## Casos de Uso Ideais

- Migra√ß√£o de MySQL com melhor performance
- Aplica√ß√µes que precisam de JSON avan√ßado
- Sistemas de alta disponibilidade com Galera
- Aplica√ß√µes anal√≠ticas com window functions
- Sistemas que requerem temporal tables
